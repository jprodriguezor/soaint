<div class="ui-fluid radicar-comunicaciones">
  <app-task-container>
    <div customActions>

      <button pButton type="button" label="Cancelar" style="width: auto; margin-bottom: 10px" *ngIf="!radicacion"
              (click)="state.abort()"></button>

      <button pButton type="button" label="Guardar" style="width: auto; margin-bottom: 10px" *ngIf="!radicacion"
              (click)="state.save().subscribe()"></button>

      <button pButton type="button" label="Actualizar" style="width: auto; margin-bottom: 10px"
              [disabled]="false"
              (click)="state.actualizarComunicacion()"></button>

    </div>
    <div taskBody>

      <p-tabView [activeIndex]="tabIndex" (onChange)="state.updateTabIndex($event)">
        <p-tabPanel header="Datos generales" leftIcon="ui-icon-assignment">
          <app-datos-generales *ngIf="state.generales" [_dataform] ="state.generales"  #datosGenerales [editable]="state.readonly"
                               [mediosRecepcionInput]="mediosRecepcionDefaultSelection$ | async"
                               (onChangeTipoComunicacion)="setTipoComunicacion($event)">
          </app-datos-generales>
        </p-tabPanel>

        <p-tabPanel header="Datos remitente" leftIcon="ui-icon-assignment">
          <!--<p-tabPanel header="Datos remitente" leftIcon="ui-icon-assignment" [disabled]="!datosGenerales.form.valid" >-->
          <!--<app-datos-remitente #datosRemitente [editable]="editable"></app-datos-remitente>-->
        </p-tabPanel>

        <p-tabPanel header="Datos destinatario" leftIcon="ui-icon-assignment">
          <!--<p-tabPanel header="Datos destinatario" leftIcon="ui-icon-assignment" [disabled]="!datosRemitente.form.valid">-->
          <!--<app-datos-destinatario #datosDestinatario [editable]="editable"-->
                                  <!--[tipoDestinatarioDefaultInput]="tipoDestinatarioDefaultSelection$ | async"-->
                                  <!--[tipoDestinatarioInput]="tipoDestinatarioSuggestions$ | async"-->
                                  <!--[sedeAdministrativaInput]="sedeDestinatarioSuggestions$ | async"-->
          <!--&gt;</app-datos-destinatario>-->
        </p-tabPanel>

      </p-tabView>
      <div class="ui-g-12" style="margin-top: 10px; margin-bottom: 10px">
        <button pButton type="button" label="Siguiente" style="width: 150px; float: right"
                (click)="state.openNext()" icon="ui-icon-arrow-forward" *ngIf="tabIndex < 2"
                [disabled]="!formsTabOrder[tabIndex].form.valid">
        </button>
        <button pButton label="Anterior" style="width: 150px; float: left"
                (click)="state.openPrev()" icon="ui-icon-arrow-back" *ngIf="tabIndex > 0">
        </button>
      </div>
    </div>
  </app-task-container>
</div>






