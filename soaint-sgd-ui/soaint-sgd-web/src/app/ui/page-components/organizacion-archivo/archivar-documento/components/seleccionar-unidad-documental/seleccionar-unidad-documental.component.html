          <p-panel header="Datos unidad documental" [style]="{border: 'none'}">
            <div class="ui-g ui-fluid">
              <div class="ui-g-12">
                <p-radioButton #bud  name="section" label="Buscar unidad documental" [(ngModel)]="operation" value="bUnidadDocumental" (click)="changeSection('bUnidadDocumental')"  ></p-radioButton>
                <p-radioButton #scud name="section" label="Solicitar creaciÃ³n de unidad documental" [(ngModel)]="operation" value="solicitarUnidadDocumental" (click)="changeSection('solicitarUnidadDocumental')"></p-radioButton>
              </div>
              <div [formGroup]="form">
                <div class="ui-g-12">
                  <!-- Campo Serie -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="serie">Serie</label>
                      </div>
                      <div class="ui-g-12">
                        <p-dropdown #seriedropdown [options]="(seriesObservable$ |async|dropdownItemSerie)" id="serie" [autoWidth]="false" formControlName="serie"
                                    (blur)="listenForBlurEvents('serie')" (onChange)="selectSerie($event)" (update)="selectSerie($event)" >

                        </p-dropdown>
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.serie">
                          {{ validations.serie }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Fin campo Serie -->

                  <!-- Campo Subserie -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="subserie">Subserie</label>
                      </div>
                      <div class="ui-g-12">
                        <p-dropdown [options]="(subseriesObservable$|async|dropdownItemSubserie)" id="subserie" [autoWidth]="false"
                                    formControlName="subserie" (blur)="listenForBlurEvents('subserie')">
                        </p-dropdown>
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.subserie">
                          {{ validations.subserie }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--- Fin Campo Subserie -->

                  <!-- Campo Identificador de unidad documental -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="identificador">Identificador unidad documental</label>
                      </div>
                      <div class="ui-g-12 md-inputfield">
                        <input type="text" pInputText id="identificador" formControlName="identificador"
                               (blur)="listenForBlurEvents('identificador')"/>
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.identificador">
                          {{ validations.identificador }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Fin Campo Identificador de unidad documental -->

                  <!-- Campo Nombre de unidad documental -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="nombre">Nombre unidad documental</label>
                      </div>
                      <div class="ui-g-12 md-inputfield">
                        <input type="text" pInputText id="nombre" formControlName="nombre"
                               (blur)="listenForBlurEvents('nombre')">
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.nombre">
                          {{ validations.nombre }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Fin Campo Nombre de unidad documental -->

                </div>
                <div class="ui-g-12">
                  <!-- Campo Descriptor 1 -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="descriptor1">Descriptor 1</label>
                      </div>
                      <div class="ui-g-12 md-inputfield">
                        <input type="text" pInputText id="descriptor1" formControlName="descriptor1"
                               (blur)="listenForBlurEvents('descriptor1')">
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.descriptor1">
                          {{ validations.descriptor1 }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Fin Campo  Descriptor 1 -->

                  <!-- Campo Descriptor 2 -->
                  <div class="ui-sm-12 ui-g-3 ui-lg-3">
                    <div class="ui-g form-group">
                      <div class="ui-g-12">
                        <label for="descriptor2">Descriptor 2</label>
                      </div>
                      <div class="ui-g-12 md-inputfield">
                        <input type="text" pInputText id="descriptor2" formControlName="descriptor2"
                               (blur)="listenForBlurEvents('descriptor2')">
                        <div class="ui-message ui-messages-error"
                             *ngIf="validations.descriptor2">
                          {{ validations.descriptor2 }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Fin Campo Descriptor 2 -->

                  <ng-template [ngIf]="operation=='bUnidadDocumental'">
                    <div class="ui-g-12 ui-g-6 ui-lg-6" [style.padding-top]="'40px'">
                      <button pButton type="button" label="Limpiar" (click)="form.reset()"
                              style="width: 120px; margin-right: 15px; margin-bottom: 10px;float: right" >
                      </button>
                      <button pButton type="button" label="Buscar" (click)="buscarUnidadDocumental()"
                              style="width: 120px; margin-right: 15px; margin-bottom: 10px;float: right">
                      </button>
                    </div>
                  </ng-template>
                </div>

                <ng-template [ngIf] = "operation=='solicitarUnidadDocumental'">
                  <div class="ui-g-12">
                    <div class="ui-sm-12 ui-g-10 ui-lg-10">
                      <div class="ui-g form-group">
                        <div class="ui-g-12">
                          <label for="observaciones">Observaciones</label>
                        </div>
                        <div class="ui-g-12 md-inputfield">
                  <textarea [rows]="3" pInputTextarea placeholder="Observaciones" id="observaciones"
                            autoResize="true" formControlName="observaciones"
                            (blur)="listenForBlurEvents('observaciones')">
                  </textarea>
                          <div class="ui-message ui-messages-error"
                               *ngIf="validations.observaciones">
                            {{ validations.observaciones }}
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="ui-g-12 ui-g-2 ui-lg-2" [style.padding-top]="'75px'">
                      <button pButton type="button" label="Agregar" [disabled]="!form.valid" (click)="addSolicitud()"
                              style="width: 120px; margin-right: 15px;float: right">
                      </button>
                    </div>
                  </div>
                </ng-template>
              </div>
            </div>
          </p-panel>
          <p-panel header="Resultados" [style]="{border: 'none'}">
            <div class="ui-g ui-fluid">
              <div class="ui-g-12">
                <p-dataTable emptyMessage="No se encontraron resultados" selectionMode="multiple"
                             [paginator]="true" [rows]="10" [responsive]="true" [value]="unidadesDocumentales$|async"
                             (onRowSelect)="selectUnidadDocumental($event)" (onRowUnselect)="deselectUnidadDocumental($event)"
                >
                  <p-column selectionMode="single" [style]="{'width':'50px'}" *ngIf="operation=='bUnidadDocumental'"></p-column>
                  <p-column  header="Item" [style]="{'width':'50px'}">
                    <ng-template pTemplate="body" let-index="rowIndex">
                      {{index + 1}}
                    </ng-template>
                  </p-column>
                  <p-column header="Nombre Serie/Subserie" [sortable]="true" >
                    <ng-template pTemplate="body" let-row="rowData">
                      {{row.codigoSerie}}/{{row.codigoSubSerie}}
                    </ng-template>
                  </p-column>
                  <p-column header="Identificador unidad documental" [sortable]="true" field="id"> </p-column>
                  <p-column header="Nombre unidad documental" [sortable]="true" field="nombreUnidadDocumental"></p-column>
                  <p-column header="Descriptor 1" [sortable]="true" field="descriptor1"></p-column>
                  <p-column header="Descriptor 2" [sortable]="true" [style]="{'width':'110px'}" field="descriptor2"></p-column>
                  <p-column header="Observaciones" [sortable]="true" field="observaciones"></p-column>
                  <p-column header="Estado" [sortable]="true" field="estado"></p-column>
                </p-dataTable>
              </div>
            </div>
          </p-panel>

       <p-dialog header="Alerta" [(visible)]="visiblePopup" modal="modal" >
  <div class="text-center">
    El sistema no encuentra la unidad documental que estÃ¡ buscando. <br>
    Por favor, solicite su creaciÃ³n
  </div>
  <p-footer>
    <button type="button" pButton  (click)="closePopup()" label="Aceptar"></button>
  </p-footer>
</p-dialog>



